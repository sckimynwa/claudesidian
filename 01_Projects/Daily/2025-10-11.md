## Session 1
MCP 인증 로직 다시 한번 확인이 필요함

- https://claude.ai/api/organizations/4c6bffc6-9779-4509-b73e-386425ace12e/mcp/start-auth/1408ec40-9217-4ba8-a383-3fd0c58a27a1?redirect_url=claude%3A%2F%2Fclaude.ai%2Fnew%3F&open_in_browser=1
- Claude에서 이렇게 넘어가고 나서 다시 deeplink로 앱 초기 화면을 열어버림. 인증에 실패한 듯.

![[Pasted image 20251011220325.png]]
- 이것만 호출되고 끝났음.
- https://api.tiro.ooo/.well-known/oauth-authorization-server 이 url이고, 결과는 이렇게 됨

```
{"issuer":"https://api.tiro.ooo","authorization_endpoint":"https://api.tiro.ooo/v1/mcp/oauth/authorize","token_endpoint":"https://api.tiro.ooo/v1/mcp/oauth/token","response_types_supported":["code"],"grant_types_supported":["authorization_code"],"code_challenge_methods_supported":["S256"],"token_endpoint_auth_methods_supported":["none"],"scopes_supported":["mcp:notes:read","mcp:notes:write"]}
```

로그를 보면서 실제로 어떤 일들이 일어나고 있는지 봐야 함. 뭔가 점점 rabbit hole에 빠지고 있다는 느낌이 들긴 해서 세션 하나 정도만 더 하고 빠져나와야 할 것 같음.

- **로그 파일 위치:** macOS는 `~/Library/Logs/Claude/mcp*.log`, Windows는 `%APPDATA%\Claude\logs\mcp*.log`에서 로그를 확인합니다
- **Developer Settings 생성:** macOS에서 `echo '{"allowDevTools": true}' > ~/Library/Application\ Support/Claude/developer_settings.json`을 실행하여 개발자 도구를 활성화합니다.[](https://rudaks.tistory.com/entry/MCP-%EB%94%94%EB%B2%84%EA%B9%85-%EA%B0%80%EC%9D%B4%EB%93%9C)​
- **DevTools 열기:** `Command-Option-Shift-i`(macOS)로 DevTools를 열어 콘솔 패널에서 클라이언트 측 인증 오류를 확인하고, 네트워크 패널에서 인증 요청의 메시지 페이로드와 연결 타이밍을 검사합니다
- **실시간 로그 모니터링:** macOS에서는 `tail -n 20 -F ~/Library/Logs/Claude/mcp*.log` 명령으로 실시간 로그를 추적하면서 인증 실패 시점의 정확한 에러 메시지를 확인합니다

Github에서는 연결하면 이런 URL로 이동함
- https://claude.ai/connect/github/callback?code=cfce846319f715f92fdc&state=JILMDEPrN9bjlH_t_7COs-IcPUncYDibMezULqaqBNA

보니까 커스텀 서버의 경우 이런 문제들이 종종 발견된다고 함
- https://github.com/anthropics/claude-code/issues/3515


## Session 2
이것 보고나서 이제 Claude Desktop에서 Claude Code 인증으로 넘어오는 걸 해두었음.
신기하게 잘 동작함. auth_token만 잘 넘어오면 이제 유지보수가능한 진짜 MCP가 되는 것임. 주말마다 열심히 개선해두면 됨. 다만 인증시 이런 에러가 뜸

- `Error: Incompatible auth server: does not support dynamic client registration`
이 에러의 원인을 파악중. 아마 Claude Desktop과 비슷한 이슈일 듯.


이것 처리한 이후에 Tachi가 우선순위 높여서 봐야 할 프롬프트 태스크 한번 정리해야 하고, jeanie가 디자인해야 하는 주요 태스크들 봐야 함. Emile의 태스크도 한번 봐야 함.

그리고 전반적인 제품 우선순위 & Task card 한번 정리하는게 필요할 듯.


내일 해야 할 일
- Calendar Integration 강화 / 확장 가능한 설계 준비 & Outlook Calendar 연동해두기
- 이후 연동 설계
- MCP 테스트 / 강화 계획 관련 솔과 논의
- 단어장 파일 업로드 머지
- 젬마님께 컨퍼런스 모드 안내
- Crisp 관련 로직들 핸들링
- 음성파일 로컬에 저장하는 기능 준비 및 테스트 완료 / 가이드 어떻게 해야 할지 june과 정해서 고객센터에 안내 추가하기
- https://contents.premium.naver.com/mooni/moonin/contents/251011113902019sf
- 이것 돈주고 사서 한번 읽어보기